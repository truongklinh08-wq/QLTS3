<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Danh má»¥c Ä‘á»“ uá»‘ng</title>

<style>
body{
    font-family:"Segoe UI", Arial;
    background:#ffd6e8;
    padding:30px;
}
.container{
    width:1000px;
    margin:auto;
    background:#ffc0cb;
    border-radius:14px;
    padding:25px;
    box-shadow:0 10px 30px rgba(0,0,0,.2);
}
h3{margin-bottom:15px;}

.btn-home{
    display:inline-block;
    margin-bottom:18px;
    background:#0d6efd;
    color:white;
    padding:12px 22px;
    border-radius:12px;
    text-decoration:none;
    font-weight:700;
}
.btn-home:hover{background:#0b5ed7}

/* ALERT */
.alert{
    display:none;
    background:#d1e7dd;
    color:#0f5132;
    padding:12px 16px;
    border-radius:10px;
    font-weight:600;
    margin-bottom:15px;
}

/* TOOLBAR */
.toolbar{
    display:flex;
    gap:10px;
    margin-bottom:15px;
}
button{
    border:none;
    padding:8px 14px;
    border-radius:8px;
    font-weight:600;
    cursor:pointer;
}
.btn-them{background:#28a745;color:white;}
.btn-sua{background:#ffc107;}
.btn-xoa{background:#dc3545;color:white;}
.btn-clear{background:#0dcaf0;}

/* FORM */
.form{
    display:grid;
    grid-template-columns:140px 1fr;
    gap:10px;
    margin-bottom:15px;
}
input{
    padding:8px;
    border-radius:6px;
    border:1px solid #ccc;
}

/* TABLE */
.table-box{
    max-height:320px;
    overflow-y:auto;
    background:white;
    border-radius:8px;
    border:1px solid #ddd;
}
table{
    width:100%;
    border-collapse:collapse;
}
th{
    background:#0d6efd;
    color:white;
    padding:10px;
    position:sticky;
    top:0;
}
td{
    padding:8px;
    border-bottom:1px solid #eee;
    text-align:center;
}
tr:hover{background:#f8f9fa;cursor:pointer;}
tr.active{background:#ffe0ef;}

/* SEARCH */
.search{
    margin-top:15px;
    display:flex;
    justify-content:flex-end;
    gap:10px;
}
.search input{
    width:220px;
}
.btn-reset{
    background:#6c757d;
    color:white;
}
</style>
</head>

<body>

<div class="container">

<a href="/main" class="btn-home">ğŸ  Vá» mÃ n hÃ¬nh chÃ­nh</a>

<h3>ğŸ“‹ Danh má»¥c Ä‘á»“ uá»‘ng</h3>

<div id="alertBox" class="alert"></div>

<!-- TOOLBAR -->
<div class="toolbar">
    <button class="btn-them" onclick="them()">â• ThÃªm</button>
    <button class="btn-sua" onclick="sua()">âœï¸ Sá»­a</button>
    <button class="btn-xoa" onclick="xoa()">ğŸ—‘ï¸ XÃ³a</button>
    <button class="btn-clear" onclick="xoaTrang()">âŒ XÃ³a tráº¯ng</button>
</div>

<!-- FORM -->
<div class="form">
    <label>MÃ£ Ä‘á»“ uá»‘ng</label>
    <input id="ma">

    <label>TÃªn Ä‘á»“ uá»‘ng</label>
    <input id="ten">

    <label>ÄÆ¡n giÃ¡</label>
    <input id="gia" type="number" min="0">
</div>

<!-- TABLE -->
<div class="table-box">
<table>
<thead>
<tr>
    <th>MÃ£ Ä‘á»“ uá»‘ng</th>
    <th>TÃªn Ä‘á»“ uá»‘ng</th>
    <th>ÄÆ¡n giÃ¡</th>
</tr>
</thead>
<tbody id="ds"></tbody>
</table>
</div>

<!-- SEARCH -->
<div class="search">
    <label>TÃ¬m kiáº¿m</label>
    <input id="tim" placeholder="Nháº­p tÃªn Ä‘á»“ uá»‘ng...">
    <button onclick="timKiem()">ğŸ”</button>
    <button class="btn-reset" onclick="xemTatCa()">â†© Quay láº¡i menu</button>
</div>

</div>

<script>
/* ===== DATA ===== */
let menu = [
    {ma:"TS01", ten:"TrÃ  sá»¯a truyá»n thá»‘ng", gia:30000},
    {ma:"TS02", ten:"TrÃ  sá»¯a trÃ¢n chÃ¢u Ä‘en", gia:32000},
    {ma:"TS03", ten:"TrÃ  sá»¯a matcha", gia:35000},
    {ma:"TS04", ten:"TrÃ  sá»¯a socola", gia:35000},
    {ma:"TS05", ten:"TrÃ  sá»¯a khoai mÃ´n", gia:33000},

    {ma:"TT01", ten:"TrÃ  Ä‘Ã o cam sáº£", gia:30000},
    {ma:"TT02", ten:"TrÃ  váº£i", gia:30000},
    {ma:"TT03", ten:"TrÃ  chanh", gia:25000},
    {ma:"TT04", ten:"TrÃ  táº¯c", gia:28000},
    {ma:"TT05", ten:"TrÃ  Ä‘Ã o", gia:30000},

    {ma:"DX01", ten:"ÄÃ¡ xay socola", gia:38000},
    {ma:"DX02", ten:"ÄÃ¡ xay matcha", gia:38000},
    {ma:"DX03", ten:"ÄÃ¡ xay dÃ¢u", gia:38000},

    {ma:"ST01", ten:"Sá»¯a tÆ°Æ¡i trÃ¢n chÃ¢u Ä‘Æ°á»ng Ä‘en", gia:38000},
    {ma:"ST02", ten:"Sá»¯a tÆ°Æ¡i matcha", gia:36000},
    {ma:"ST03", ten:"Sá»¯a tÆ°Æ¡i socola", gia:36000},
    {ma:"ST04", ten:"Sá»¯a tÆ°Æ¡i dÃ¢u", gia:36000},
    {ma:"ST05", ten:"Sá»¯a tÆ°Æ¡i xoÃ i", gia:36000}
];

let index = -1;

/* ===== ALERT ===== */
function thongBao(msg){
    alertBox.innerText = "âœ”ï¸ " + msg;
    alertBox.style.display = "block";
    setTimeout(()=>alertBox.style.display="none",2000);
}

/* ===== RENDER ===== */
function ve(ds = menu){
    const tbody = document.getElementById("ds");
    tbody.innerHTML="";
    ds.forEach((m,i)=>{
        tbody.innerHTML += `
        <tr class="${i===index?'active':''}" onclick="chon(${i})">
            <td>${m.ma}</td>
            <td>${m.ten}</td>
            <td>${m.gia.toLocaleString()}</td>
        </tr>`;
    });
}
ve();

/* ===== SELECT ===== */
function chon(i){
    index = i;
    ma.value = menu[i].ma;
    ten.value = menu[i].ten;
    gia.value = menu[i].gia;
    ve();
}

/* ===== CRUD ===== */
function them(){
    if(!ma.value || !ten.value || !gia.value){
        alert("Nháº­p Ä‘áº§y Ä‘á»§ thÃ´ng tin!");
        return;
    }
    menu.push({ma:ma.value, ten:ten.value, gia:Number(gia.value)});
    thongBao("ThÃªm Ä‘á»“ uá»‘ng thÃ nh cÃ´ng");
    xoaTrang();
}

function sua(){
    if(index < 0){
        alert("Chá»n mÃ³n cáº§n sá»­a!");
        return;
    }
    menu[index] = {ma:ma.value, ten:ten.value, gia:Number(gia.value)};
    thongBao("Sá»­a Ä‘á»“ uá»‘ng thÃ nh cÃ´ng");
    ve();
}

function xoa(){
    if(index < 0){
        alert("Chá»n mÃ³n cáº§n xÃ³a!");
        return;
    }
    if(confirm("XÃ³a Ä‘á»“ uá»‘ng nÃ y?")){
        menu.splice(index,1);
        thongBao("XÃ³a Ä‘á»“ uá»‘ng thÃ nh cÃ´ng");
        xoaTrang();
    }
}

function xoaTrang(){
    ma.value="";
    ten.value="";
    gia.value="";
    index=-1;
    ve();
}

/* ===== SEARCH ===== */
function timKiem(){
    const key = tim.value.toLowerCase().trim();
    if(key===""){
        alert("Nháº­p tÃªn Ä‘á»“ uá»‘ng cáº§n tÃ¬m");
        return;
    }
    ve(menu.filter(m=>m.ten.toLowerCase().includes(key)));
}

/* ===== RESET SEARCH ===== */
function xemTatCa(){
    tim.value="";
    ve(menu);
}
</script>

</body>
</html>
