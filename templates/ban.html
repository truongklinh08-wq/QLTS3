<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Danh m·ª•c b√†n</title>

<style>
body {
    font-family: "Segoe UI", Arial;
    background: linear-gradient(135deg, #ffe0ef, #fff1f7);
    padding: 40px;
}

.container {
    max-width: 1100px;
    margin: auto;
    background: #ffffff;
    border-radius: 26px;
    padding: 35px;
    box-shadow: 0 20px 45px rgba(255, 105, 180, 0.25);
}

h2 {
    color: #d63384;
    margin-bottom: 25px;
}

/* FORM */
.form-row {
    display: grid;
    grid-template-columns: 1.5fr 1fr 1fr auto;
    gap: 15px;
    margin-bottom: 30px;
}

select {
    padding: 12px;
    border-radius: 14px;
    border: 1px solid #f3b3d3;
    outline: none;
}

select:focus {
    border-color: #d63384;
}

.btn-them {
    padding: 12px;
    border-radius: 14px;
    border: none;
    background: linear-gradient(135deg, #ff5fa2, #ff85b3);
    color: white;
    font-weight: 600;
    cursor: pointer;
}

/* TABLE */
table {
    width: 100%;
    border-collapse: collapse;
    border-radius: 18px;
    overflow: hidden;
}

th {
    background: #ff5fa2;
    color: white;
    padding: 14px;
}

td {
    padding: 12px;
    border-bottom: 1px solid #f7c6dc;
    text-align: center;
}

tr:hover {
    background: #fff0f7;
}

/* STATUS */
.trong {
    color: #28a745;
    font-weight: bold;
}

.het {
    color: #dc3545;
    font-weight: bold;
}

/* BUTTONS */
.btn-xoa {
    background: #ff4d6d;
    color: white;
    border: none;
    padding: 6px 14px;
    border-radius: 10px;
    cursor: pointer;
}

.btn-doi {
    background: #ffb703;
    color: #333;
    border: none;
    padding: 6px 14px;
    border-radius: 10px;
    cursor: pointer;
    margin-left: 6px;
}
</style>
</head>

<body>

<div class="container">
<h2>üå∏ Danh m·ª•c b√†n</h2>

<form method="post" action="{{ '/cap_nhat' if ban_sua else '/them' }}" class="form-row">
    {% if ban_sua %}
    <input type="hidden" name="so_ban_cu" value="{{ ban_sua.so_ban }}">
    {% endif %}

    <select name="ten_ban">
        {% for i in range(1,16) %}
        <option {{ 'selected' if ban_sua and ban_sua.ten_ban == 'B√†n %02d'|format(i) }}>
            B√†n {{ "%02d"|format(i) }}
        </option>
        {% endfor %}
    </select>

    <select name="vi_tri">
        <option {{ 'selected' if ban_sua and ban_sua.vi_tri=='T·∫ßng 1' }}>T·∫ßng 1</option>
        <option {{ 'selected' if ban_sua and ban_sua.vi_tri=='T·∫ßng 2' }}>T·∫ßng 2</option>
        <option {{ 'selected' if ban_sua and ban_sua.vi_tri=='T·∫ßng 3' }}>T·∫ßng 3</option>
    </select>

    <select name="trang_thai">
        <option {{ 'selected' if ban_sua and ban_sua.trang_thai }}>Tr·ªëng</option>
        <option {{ 'selected' if ban_sua and not ban_sua.trang_thai }}>H·∫øt</option>
    </select>

    <button class="btn-them">
        {{ 'C·∫≠p nh·∫≠t' if ban_sua else 'Th√™m' }}
    </button>
</form>

<table>
<tr>
    <th>S·ªë b√†n</th>
    <th>T√™n b√†n</th>
    <th>V·ªã tr√≠</th>
    <th>Tr·∫°ng th√°i</th>
    <th>H√†nh ƒë·ªông</th>
</tr>

{% for b in ds_ban %}
<tr>
    <td>{{ b.so_ban }}</td>
    <td>{{ b.ten_ban }}</td>
    <td>{{ b.vi_tri }}</td>
    <td class="{{ 'trong' if b.trang_thai else 'het' }}">
        {{ 'Tr·ªëng' if b.trang_thai else 'H·∫øt' }}
    </td>
    <td>
        <a href="/xoa/{{ b.so_ban }}"><button class="btn-xoa">X√≥a</button></a>
        <a href="/sua/{{ b.so_ban }}"><button class="btn-doi">ƒê·ªïi</button></a>
    </td>
</tr>
{% endfor %}
</table>

</div>

</body>
</html>
