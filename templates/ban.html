<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Danh m·ª•c b√†n</title>

<style>
body {
    font-family: Segoe UI, Arial;
    background: linear-gradient(135deg, #ffe0ef, #fff1f7);
    padding: 40px;
}
.container {
    max-width: 1100px;
    margin: auto;
    background: white;
    border-radius: 26px;
    padding: 35px;
}
h2 { color: #d63384; }

.form-row {
    display: grid;
    grid-template-columns: 1.5fr 1fr 1fr auto;
    gap: 15px;
    margin-bottom: 30px;
}

select, button {
    padding: 12px;
    border-radius: 14px;
    border: 1px solid #f3b3d3;
}

.btn-them {
    background: #ff5fa2;
    color: white;
    border: none;
    font-weight: bold;
}

table {
    width: 100%;
    border-collapse: collapse;
}
th {
    background: #ff5fa2;
    color: white;
    padding: 12px;
}
td {
    padding: 10px;
    text-align: center;
}

.trong { color: green; font-weight: bold; }
.het { color: red; font-weight: bold; }

.btn-xoa { background: #ff4d6d; color: white; padding: 6px 12px; border-radius: 8px; }
.btn-doi { background: #ffb703; padding: 6px 12px; border-radius: 8px; margin-left: 5px; }
</style>
</head>

<body>
<div class="container">

<h2>üå∏ Danh m·ª•c b√†n</h2>

<form method="post"
      action="{{ url_for('cap_nhat_ban') if ban_sua else url_for('them_ban') }}"
      class="form-row">

    {% if ban_sua %}
    <input type="hidden" name="so_ban_cu" value="{{ ban_sua.so_ban }}">
    {% endif %}

    <select name="ten_ban">
        {% for i in range(1,16) %}
        {% set ten = "B√†n %02d"|format(i) %}
        <option value="{{ ten }}"
            {% if ban_sua and ban_sua.ten_ban == ten %}selected{% endif %}>
            {{ ten }}
        </option>
        {% endfor %}
    </select>

    <select name="vi_tri">
        {% for vt in ["T·∫ßng 1", "T·∫ßng 2", "T·∫ßng 3"] %}
        <option value="{{ vt }}"
            {% if ban_sua and ban_sua.vi_tri == vt %}selected{% endif %}>
            {{ vt }}
        </option>
        {% endfor %}
    </select>

    <select name="trang_thai">
        <option value="1"
            {% if ban_sua and ban_sua.trang_thai %}selected{% endif %}>Tr·ªëng</option>
        <option value="0"
            {% if ban_sua and not ban_sua.trang_thai %}selected{% endif %}>H·∫øt</option>
    </select>

    <button class="btn-them">
        {{ "C·∫≠p nh·∫≠t" if ban_sua else "Th√™m" }}
    </button>
</form>

<table>
<tr>
    <th>S·ªë b√†n</th>
    <th>T√™n b√†n</th>
    <th>V·ªã tr√≠</th>
    <th>Tr·∫°ng th√°i</th>
    <th>H√†nh ƒë·ªông</th>
</tr>

{% for b in ds_ban %}
<tr>
    <td>{{ b.so_ban }}</td>
    <td>{{ b.ten_ban }}</td>
    <td>{{ b.vi_tri }}</td>
    <td class="{{ 'trong' if b.trang_thai else 'het' }}">
        {{ "Tr·ªëng" if b.trang_thai else "H·∫øt" }}
    </td>
    <td>
        <a class="btn-xoa" href="{{ url_for('xoa_ban', so_ban=b.so_ban) }}">X√≥a</a>
        <a class="btn-doi" href="{{ url_for('sua_ban', so_ban=b.so_ban) }}">ƒê·ªïi</a>
    </td>
</tr>
{% endfor %}
</table>

</div>
</body>
</html>
