<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Qu·∫£n l√Ω menu tr√† s·ªØa</title>

<style>
body {
    font-family: "Segoe UI", Arial;
    background: linear-gradient(135deg, #ffd6e8, #ffeaf3);
    padding: 40px;
}

.container {
    max-width: 1100px;
    margin: auto;
    background: #ffffff;
    border-radius: 24px;
    padding: 35px;
    box-shadow: 0 15px 40px rgba(255, 105, 180, 0.25);
}

h2 {
    color: #d63384;
    margin-bottom: 20px;
}

.form-row {
    display: grid;
    grid-template-columns: 2fr 1fr 1fr 1fr auto;
    gap: 12px;
    margin-bottom: 30px;
}

input, select {
    padding: 10px 12px;
    border-radius: 12px;
    border: 1px solid #f3b3d3;
    outline: none;
}

input:focus, select:focus {
    border-color: #d63384;
}

button {
    padding: 10px 16px;
    border-radius: 12px;
    border: none;
    font-weight: 600;
    cursor: pointer;
}

.btn-main {
    background: linear-gradient(135deg, #ff5fa2, #ff85b3);
    color: white;
}

.btn-main:hover {
    opacity: 0.9;
}

table {
    width: 100%;
    border-collapse: collapse;
    border-radius: 16px;
    overflow: hidden;
}

th {
    background: #ff5fa2;
    color: white;
    padding: 14px;
}

td {
    padding: 12px;
    border-bottom: 1px solid #f7c6dc;
}

tr:hover {
    background: #fff0f7;
}

.btn-sua {
    background: #ffc107;
    color: #333;
    margin-right: 6px;
}

.btn-xoa {
    background: #ff4d6d;
    color: white;
}

.trang-thai {
    font-weight: bold;
}

.dang-ban {
    color: #28a745;
}

.ngung-ban {
    color: #dc3545;
}
</style>
</head>

<body>

<div class="container">

<h2>üå∏ Th√™m / S·ª≠a s·∫£n ph·∫©m</h2>

<div class="form-row">
    <input id="ten" placeholder="T√™n s·∫£n ph·∫©m">
    <input id="gia" type="number" placeholder="Gi√°">
    <select id="loai">
        <option>Tr√† s·ªØa</option>
        <option>Tr√† tr√°i c√¢y</option>
        <option>ƒê√° xay</option>
    </select>
    <select id="trang_thai">
        <option>ƒêang b√°n</option>
        <option>Ng·ª´ng b√°n</option>
    </select>
    <button id="btn" class="btn-main" onclick="luu()">Th√™m</button>
</div>

<h2>üçì Danh s√°ch menu</h2>

<table>
<thead>
<tr>
    <th>T√™n</th>
    <th>Gi√°</th>
    <th>Lo·∫°i</th>
    <th>Tr·∫°ng th√°i</th>
    <th>H√†nh ƒë·ªông</th>
</tr>
</thead>
<tbody id="menu"></tbody>
</table>

</div>

<script>
let ds = [];
let dangSua = -1;

fetch("data/menu.json")
.then(res => res.json())
.then(data => {
    ds = data;
    ve();
});

function ve() {
    const tbody = document.getElementById("menu");
    tbody.innerHTML = "";
    ds.forEach((m, i) => {
        tbody.innerHTML += `
        <tr>
            <td>${m.ten}</td>
            <td>${Number(m.gia).toLocaleString()} ƒë</td>
            <td>${m.loai}</td>
            <td class="trang-thai ${m.trang_thai === 'ƒêang b√°n' ? 'dang-ban' : 'ngung-ban'}">
                ${m.trang_thai}
            </td>
            <td>
                <button class="btn-sua" onclick="sua(${i})">S·ª≠a</button>
                <button class="btn-xoa" onclick="xoa(${i})">X√≥a</button>
            </td>
        </tr>`;
    });
}

function luu() {
    const ten = document.getElementById("ten").value;
    const gia = document.getElementById("gia").value;
    const loai = document.getElementById("loai").value;
    const trang_thai = document.getElementById("trang_thai").value;

    if (!ten || !gia) {
        alert("Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin!");
        return;
    }

    if (dangSua === -1) {
        ds.push({ ten, gia, loai, trang_thai });
    } else {
        ds[dangSua] = { ten, gia, loai, trang_thai };
        dangSua = -1;
        document.getElementById("btn").innerText = "Th√™m";
    }

    resetForm();
    ve();
}

function sua(i) {
    const m = ds[i];
    document.getElementById("ten").value = m.ten;
    document.getElementById("gia").value = m.gia;
    document.getElementById("loai").value = m.loai;
    document.getElementById("trang_thai").value = m.trang_thai;

    dangSua = i;
    document.getElementById("btn").innerText = "L∆∞u";
}

function xoa(i) {
    if (confirm("B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a m√≥n n√†y kh√¥ng?")) {
        ds.splice(i, 1);
        ve();
    }
}

function resetForm() {
    document.getElementById("ten").value = "";
    document.getElementById("gia").value = "";
}
</script>

</body>
</html>
